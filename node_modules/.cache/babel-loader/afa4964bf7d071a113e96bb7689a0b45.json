{"ast":null,"code":"//对于axios进行二次封装\nimport axios from 'axios';\nimport nprogress from 'nprogress';\nimport 'nprogress/nprogress.css';\n\n//底下的代码也是创建axios实例\nconst requests = axios.create({\n  //基础路径\n  baseURL: '/api',\n  //请求不能超过5S\n  timeout: 5000\n});\n\n//请求拦截器----在项目中发请求（请求没有发出去）可以做一些事情\nrequests.interceptors.request.use(config => {\n  //现在的问题是config是什么?配置对象\n  nprogress.start();\n  return config;\n});\n\n//响应拦截器----当服务器手动请求之后，做出响应（相应成功）会执行的\nrequests.interceptors.response.use(res => {\n  //相应成功做的事情\n  nprogress.done();\n  return res.data;\n}, error => {\n  // alert('服务器响应数据失败')\n  return Promise.reject(new Error('faile'));\n});\n//最终需要对外暴露（不对外暴露外面模块没办法使用）\n//这里的代码是暴露一个axios实例\n// export default requests\nexport default axios;","map":{"version":3,"names":["axios","nprogress","requests","create","baseURL","timeout","interceptors","request","use","config","start","response","res","done","data","error","Promise","reject","Error"],"sources":["/Users/suika3046/Desktop/project-sph-old/src/api/request.js"],"sourcesContent":["//对于axios进行二次封装\nimport axios from 'axios'\nimport nprogress from 'nprogress'\nimport 'nprogress/nprogress.css'\n\n//底下的代码也是创建axios实例\nconst requests = axios.create({\n  //基础路径\n  baseURL: '/api',\n  //请求不能超过5S\n  timeout: 5000,\n})\n\n//请求拦截器----在项目中发请求（请求没有发出去）可以做一些事情\nrequests.interceptors.request.use((config) => {\n  //现在的问题是config是什么?配置对象\n  nprogress.start()\n  return config\n})\n\n//响应拦截器----当服务器手动请求之后，做出响应（相应成功）会执行的\nrequests.interceptors.response.use(\n  (res) => {\n    //相应成功做的事情\n    nprogress.done()\n    return res.data\n  },\n  (error) => {\n    // alert('服务器响应数据失败')\n    return Promise.reject(new Error('faile'))\n  }\n)\n//最终需要对外暴露（不对外暴露外面模块没办法使用）\n//这里的代码是暴露一个axios实例\n// export default requests\nexport default axios\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,WAAW;AACjC,OAAO,yBAAyB;;AAEhC;AACA,MAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAM,CAAC;EAC5B;EACAC,OAAO,EAAE,MAAM;EACf;EACAC,OAAO,EAAE;AACX,CAAC,CAAC;;AAEF;AACAH,QAAQ,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EAC5C;EACAR,SAAS,CAACS,KAAK,EAAE;EACjB,OAAOD,MAAM;AACf,CAAC,CAAC;;AAEF;AACAP,QAAQ,CAACI,YAAY,CAACK,QAAQ,CAACH,GAAG,CAC/BI,GAAG,IAAK;EACP;EACAX,SAAS,CAACY,IAAI,EAAE;EAChB,OAAOD,GAAG,CAACE,IAAI;AACjB,CAAC,EACAC,KAAK,IAAK;EACT;EACA,OAAOC,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAAC,OAAO,CAAC,CAAC;AAC3C,CAAC,CACF;AACD;AACA;AACA;AACA,eAAelB,KAAK"},"metadata":{},"sourceType":"module"}